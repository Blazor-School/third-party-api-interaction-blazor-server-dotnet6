@page "/http-client-with-middleware"
@inject IHttpClientFactory HttpClientFactory

<h3>HttpClientWithMiddleware</h3>
<div>API result: @ApiResult</div>

@code {
    public string ApiResult { get; set; } = "";

    protected override async Task OnInitializedAsync()
    {
        var httpClient = HttpClientFactory.CreateClient("HttpClient with Middleware");
        var response = await httpClient.GetAsync("/weatherforecast");
        ApiResult = await response.Content.ReadAsStringAsync();
    }
}